<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <title>NeuroScope | Brain Cancer Detection</title>
    {% load static %}
    
    <link  rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    <link rel="icon"  type="image/x-icon" href="{% static 'images/icon.png' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->
  </head>
  <body>
    <header>
        <div id="home-navbar-logo">
            <a href=""><img src="{% static 'images/NeuroScope-logo1.png' %}" alt="logo"></a>
        </div>

        <nav id="home-navbar-contain">
            <div id="home-navbar-elements">
                <a href="#" id="" class="nav-button"><div>Analyser votre scanner</div></a>
                <a href="#" id="" class="nav-button"><div>Comment l'utiliser</div></a> 
                <a href="#" id="" class="nav-button"><div>Contactez-nous</div></a>
            </div>
            <div id="home-navbar-register">
                <a href="#" id="home-navbar-login" class="nav-button"><div>Se connecter</div></a>
                <a href="#" id="home-navbar-signup" class="nav-button"><div>S'inscrire</div></a>
            </div>
        </nav>
        
    </header>

    <main>


        
            {% if obj %}
            {% for x in img %}
            {% if forloop.last %}
                {% if x.caption == "Meningioma" %}
                <div id="home-presentation2" class="meningioma1"> 
                {% elif x.caption == "Glioma" %}
                <div id="home-presentation2" class="glioma1">
                {% elif x.caption == "Pituitary" %}
                <div id="home-presentation2" class="pituitary1">
                {% elif x.caption == "No Tumor" %}
                <div id="home-presentation2" class="notumor1">
                {% endif %}
            {% endif %}
            {% endfor %}
            
                <div id="home-presentation-imr">
                    <img src="{{ obj.image.url}}" alt="image" class="img-thumbnail" >
                </div>
                <div id="home-presentation-uploaded">
                    
                    <div id="home-presentation-uploaded-main" class="uploaded-box">
                        <h1>Statistiques de Classification de l'IRM selon les Tumeurs</h1>
                        <ul>
                            <!-- Liste des tumeurs avec puces colorées -->
                            <li class="meningioma"><span class="bullet"></span>Meningioma - Précision associée : <span>{{meningioma}}%</span> </li>
                            <li class="glioma"><span class="bullet"></span>Glioma - Précision associée : <span>{{glioma}}%</span></li>
                            <li class="pituitary"><span class="bullet"></span>Pituitary - Précision associée : <span>{{pituitary}}%</span></li>
                            <li class="notumor"><span class="bullet"></span>No Tumor (Pas de tumeur) - Précision associée : <span>{{notumor}}%</span></li>
                        </ul>
                    </div>
                    <div id="home-presentation-uploaded-title">
                        <h2>La classe predite est : {% for x in img %}
                                                            {% if forloop.last %}
                                                                {% if x.caption == "Meningioma" %}
                                                                <span class="meningioma0">{{x.caption}}</span>
                                                                {% elif x.caption == "Glioma" %}
                                                                <span class="glioma0">{{x.caption}}</span>
                                                                {% elif x.caption == "Pituitary" %}
                                                                <span class="pituitary0">{{x.caption}}</span>
                                                                {% elif x.caption == "No Tumor" %}
                                                                <span class="notumor0">{{x.caption}}</span>
                                                                {% endif %}
                                                            {% endif %}
                                                            {% endfor %}
                                                    
                        </h2>
                    </div>
                    <p id="recommandation">
                        Les résultats fournis par l'application doivent être confirmés par un médecin spécialiste. Prenez rendez-vous avec un neurochirurgien, un oncologue ou un radiologue pour une évaluation plus approfondie.
                    </p>
                        
                </div>
            </div>
            <div>
                <a href=""><button id="back-button">Analyser une IRM à nouveau</button></a>
            </div>
            {% else %}
            <div id="home-presentation">
                <div id="home-presentation-img">

                    <img src="{% static 'images/Home-image.jpg' %}" alt="">
                    
                </div>
                <div id="home-presentation-upload">
                    <div id="home-presentation-upload-title">
                        <h1>Analysez votre scanner cérébral sur <span>NeuroScope AI</span></h1>
                        <p>Solution intelligente d'analyse à 99.8% d'efficacité</p>
                    </div>
                    <div id="home-presentation-upload-main" class="upload-box">
                        
                        <div id="home-presentation-upload-main-icon" class="upload-icon">
                            <img src="{% static 'images/upload-icon.png' %}" alt="" class="preview-image">
                        </div>
                        <form action="." method="post" enctype="multipart/form-data" >
                            
                            <div id="home-presentation-upload-main-text">
                                {% csrf_token %}
                                {{form.as_p}}
                                Glissez et déposez un fichier; collez une image ou <em>une URL</em> <br> ou
                            </div>
                            <!-- <input type="file" id="file-upload" accept="image/*" style="display: none;"> -->
                            <button id="home-presentation-upload-button" class="upload-button">Sélectionnez l'image du scanner</button>
                        </form>
                    </div>
                    <p class="upload-info"> JPG, PNG / Max. 60 MB / Min. 224px x 224px </p>
                </div>
            </div>
            {% endif %}
            

        </div>






       <!--
        <h1>Hello, world!</h1>
        <div class="container-main">
                
            {% if obj %}
            <h3>Succesfully uploaded : {{img_obj.caption}}</h3>
            <img src="{{ obj.image.url}}" alt="image" class="img-thumbnail" >
            {% endif %}
            <hr>
            
            {% for x in img %}
            {% if forloop.first %}<div class="row ">{% endif %}
                <div class="col-lg-4 col-md-4 col-12" >
            <div class="text-center mt-2">
                <img src="{{x.image.url}}" height="70%" width="70%" class="img-thumbnail" alt="...">
                <h2 class="text-center" >{{x.caption}}</h2></div>
                </div>
                {% if forloop.counter|divisibleby:3 %}
            </div>
            <div class=row>{% endif %}

                {% if forloop.last %}</div>{% endif %}
            
            {% endfor %}
        </div>
       --> 

    </main>
    
    <script src="{% static 'js/script.js' %}" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>